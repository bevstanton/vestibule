<!DOCTYPE html>
<html>
<title>Vestible</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link href="https://fonts.googleapis.com/css?family=Monoton" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
       <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.12.0/lodash.min.js"></script>
       <script src="https://cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/2.0.5/wavesurfer.min.js"></script>


<style>
body, html {
    height: 100%;
    margin: 0;
}
.bgimg {
    background-image: url('vag.jpg');
    height: 100%;
    background-position: center;
    background-size: cover;
    position: relative;
    color: white;
    font-family: "Courier New", Courier, monospace;
    font-size: 25px;
}



.middle {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
}
hr {
    margin: auto;
    width: 40%;
}
    h1 {font-family: 'Monoton', cursive; font-weight: 400; background-color: rgba(0, 255, 255, 0.3);}
    p.green {background-color: rgba(255, 0, 255, 0.3);}
    p.blue {background-color: rgba(255, 0, 255, 0.3);}

.container {
  position: fixed;
  left: 0;
  bottom: 120px;
  width: 100%;
  color: white;
  text-align: center;
}

.waveform {
  position: absolute;
  visibility: hidden;
  width: 100%;

}
div.angrytext {
 font-size:70px;
 font-weight:bold;
 color:#fff;
 width:300px;
 margin:90px auto;

 -webkit-animation: elastic 3s linear 0s 1 normal ;
 animation: elastic 3s linear 0s 1 normal ;
}

@-webkit-keyframes elastic {
  0%{
	-webkit-transform: scale(1);
	transform: scale(1);
  }
  30%{
	-webkit-transform: scaleX(1.25) scaleY(0.75);
	transform: scaleX(1.25) scaleY(0.75);
  }
  40%{
	-webkit-transform: scaleX(0.75) scaleY(1.25);
	transform: scaleX(0.75) scaleY(1.25);
  }
  60%{
	-webkit-transform: scaleX(1.15) scaleY(0.85);
	transform: scaleX(1.15) scaleY(0.85);
  }
  100%{
	-webkit-transform: scale(1);
	transform: scale(1);
  }
}

@keyframes elastic {
  0%{
	-ms-transform: scale(1);
	transform: scale(1);
  }
  30%{
	-ms-transform: scaleX(1.25) scaleY(0.75);
	transform: scaleX(1.25) scaleY(0.75);
  }
  40%{
	-ms-transform: scaleX(0.75) scaleY(1.25);
	transform: scaleX(0.75) scaleY(1.25);
  }
  60%{
	-ms-transform: scaleX(1.15) scaleY(0.85);
	transform: scaleX(1.15) scaleY(0.85);
  }
  100%{
	-ms-transform: scale(1);
	transform: scale(1);
  }
}
</style>
<script>
(function() {
var wavesurfers, // The list of wavesurfer instances to work with.
readyCount = 0, // The number of wavesurfer instances that have reported as being ready.
playIndex = 0; // The index of the currently playing wavesurfer instance.

$(document).ready(function() {
// Build our instances and associated an audio file with them.
wavesurfers = [
  createWavesurfer('#waveform1', '/mp3s/FEELINGALIVE.mp3'),
  createWavesurfer('#waveform2', '/mp3s/DREAMING.mp3'),
  createWavesurfer('#waveform3', '/mp3s/WANNAFINDLOVE.mp3'),
  createWavesurfer('#waveform4', '/mp3s/LOOKAWAY.mp3'),
  createWavesurfer('#waveform5', '/mp3s/ATTHEEND.mp3'),
  createWavesurfer('#waveform6', '/mp3s/LEFTBEHIND.mp3')
];

// After we have created all instances, listen to the "ready" event to update the ready count.
assignReadyEvents();
});

function createWavesurfer(selector, url) {
var wavesurfer = WaveSurfer.create({
  container: selector,
  waveColor: 'white',
  progressColor: 'pink'
});

wavesurfer.load(url);
return wavesurfer;
}

function assignReadyEvents() {
_.forEach(wavesurfers, function(wavesurfer) {
  wavesurfer.on('ready', function() {
    readyCount++;

    // Once all instances are ready, begin sequential playback.
    if (readyCount === wavesurfers.length) {
      playSequence();
    }

    // Clean up.
    wavesurfer.un('ready');
  });
});
}

function playSequence() {
var wavesurfer = wavesurfers[playIndex];
$(wavesurfer.container).css('visibility', 'visible');
wavesurfer.play();

wavesurfer.on('finish', function() {
  $(wavesurfer.container).css('visibility', 'hidden');

  // Clean up.
  wavesurfer.un('finish');

  // Play the next instance after a 200ms delay.
  setTimeout(function() {
    playIndex++;

    if (playIndex < wavesurfers.length) {
      playSequence();
    }
  }, 200);
});
}
}());
</script>
<body>

<div class="bgimg">

  <div class="middle">
  <div class='angrytext' >VESTIBULE</div>



  </div>


  <div class="container">
  <div class="waveform" id="waveform1"></div>
  <div class="waveform" id="waveform2"></div>
  <div class="waveform" id="waveform3"></div>
  <div class="waveform" id="waveform4"></div>
  <div class="waveform" id="waveform5"></div>
  <div class="waveform" id="waveform6"></div>
  </div>


</body>
</html>
